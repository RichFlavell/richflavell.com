{"version":3,"sources":["webpack:///./src/views/Home/index.tsx","webpack:///./src/pages/index.tsx"],"names":["Home","t","useTranslation","useState","rows","setRows","data","postsData","safe","allMdx","edges","useEffect","tmp","posts","length","push","splice","SEO","title","templateOverride","map","row","i","GridList","key","even","cascade","post","Card","node","id","totalCount","to","Index"],"mappings":"iqJAcA,IA6FeA,EA7FoB,WAAM,IAC/BC,EAAMC,YAAe,QAArBD,EAD+B,EAGfE,qBAAjBC,EAHgC,KAG1BC,EAH0B,KAKjCC,EAAkB,OAwClBC,EAAYC,YAAKF,EAAKG,OAAOC,OAWnC,OATAC,qBAAU,WAGR,IAFA,IAAMC,EAAM,GACNC,EAAQ,EAAIN,GACXM,EAAMC,OAAS,GACpBF,EAAIG,KAAKF,EAAMG,OAAO,EAAG,IAE3BX,EAAQO,KACP,CAACL,IAGF,kBAAC,IAAD,KACE,kBAACU,EAAA,EAAD,CAAKC,MAAM,eAAeC,iBAAkB,OAxDhC,GAsEZ,kBAAC,IAAD,KACGf,GACCA,EAAKgB,KAAI,SAACC,EAAKC,GAAN,OACP,kBAACC,EAAA,EAAD,CAAUC,IAAKF,EAAGG,KAAMH,EAAI,GAAM,EAAGI,SAAS,GAC3CL,EAAID,KAAI,SAAAO,GAAI,OACX,kBAACC,EAAA,EAAD,CAAMF,SAAS,EAAMF,IAAKG,EAAKE,KAAKC,GAAIxB,KAAMqB,WAIrDrB,EAAKG,OAAOsB,WAAa,GACxB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAaC,GAAG,WAAW/B,EAAE,WAA7B,WC3FCgC,UAJS,WACtB,OAAO,kBAAC,EAAD","file":"component---src-pages-index-tsx-e42d85cbf51800017d73.js","sourcesContent":["import { graphql, useStaticQuery } from \"gatsby\"\nimport React, { useEffect, useState } from \"react\"\nimport Card from \"../../components/Card\"\nimport GridList from \"../../components/GridList\"\nimport { Content, Right } from \"../../config/style/mdx\"\nimport { HomeQuery } from \"../../types/graphql\"\nimport safe from \"../../utils/safe\"\nimport SEO from \"../../utils/SEO\"\nimport { Holder, Actions, SeeMoreLink, Video, VideoWrapper } from \"./style\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface IHomeProps {\n  data?: HomeQuery\n}\nconst Home: React.FC<IHomeProps> = () => {\n  const { t } = useTranslation(\"Home\")\n  const videoId = \"\"\n  const [rows, setRows] = useState<Array<typeof data.allMdx.edges>>()\n\n  const data: HomeQuery = useStaticQuery(graphql`\n    query Home {\n      allMdx(\n        sort: { fields: [frontmatter___date], order: ASC }\n        limit: 6\n        filter: { frontmatter: { path: { eq: null } } }\n      ) {\n        totalCount\n        edges {\n          node {\n            id\n            excerpt\n            timeToRead\n            fields {\n              slug\n            }\n            frontmatter {\n              title\n              path\n              date\n              thumbnail: featuredImage {\n                publicURL\n                childImageSharp {\n                  fluid(\n                    maxWidth: 653\n                    maxHeight: 280\n                    cropFocus: CENTER\n                    quality: 90\n                  ) {\n                    ...GatsbyImageSharpFluid\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  const postsData = safe(data.allMdx.edges)\n\n  useEffect(() => {\n    const tmp = []\n    const posts = [...postsData]\n    while (posts.length > 0) {\n      tmp.push(posts.splice(0, 2))\n    }\n    setRows(tmp)\n  }, [postsData])\n\n  return (\n    <Holder>\n      <SEO title=\"Rich Flavell\" templateOverride={\"%s\"} />\n      {videoId && (\n        <VideoWrapper>\n          <Video\n            url={`https://www.youtube.com/watch?v=${videoId}`}\n            playing={true}\n            controls={true}\n            light={`https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`}\n            width=\"100%\"\n            height=\"100%\"\n          />\n        </VideoWrapper>\n      )}\n\n      <Content>\n        {rows &&\n          rows.map((row, i) => (\n            <GridList key={i} even={i % 2 === 0} cascade={true}>\n              {row.map(post => (\n                <Card cascade={true} key={post.node.id} data={post} />\n              ))}\n            </GridList>\n          ))}\n        {data.allMdx.totalCount > 6 && (\n          <Actions>\n            <Right>\n              <SeeMoreLink to=\"/posts/\">{t(\"seeMore\")} &raquo;</SeeMoreLink>\n            </Right>\n          </Actions>\n        )}\n      </Content>\n    </Holder>\n  )\n}\n\nexport default Home\n","import React from \"react\"\nimport Home from \"../views/Home\"\n\nconst Index: React.FC = () => {\n  return <Home />\n}\n\nexport default Index\n"],"sourceRoot":""}